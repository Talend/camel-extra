<?xml version='1.0' encoding='UTF-8'?>
<!--
    https://camel-extra.github.io

    This program is free software; you can redistribute it and/or
    modify it under the terms of the GNU General Public License
    as published by the Free Software Foundation; either version 2
    of the License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.


    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
    02110-1301, USA.

    http://www.gnu.org/licenses/gpl-2.0-standalone.html
-->
<features name='camel-extra-${project.version}'>

    <feature name='camel-jcifs' version='${project.version}' start-level='50'>
        <feature prerequisite="true">wrap</feature>
        <feature version='[4.8,4.9)'>camel-core</feature>
        <feature>bouncycastle</feature>
        <bundle dependency="true">wrap:mvn:org.codelibs/jcifs/${jcifs-version}$Import-Package=org.bouncycastle*;version:="[${bouncycastle-version},2)",*;resolution:=optional&amp;Bundle-Version=${jcifs-version}</bundle>
        <!--
        jcifs depends on a bouncycastle version that is more recent than the version
        that is included in the karaf distribution, so we need to enforce the installation
        to avoid classloading issues.
         -->
        <bundle>mvn:org.apache-extras.camel-extra/camel-jcifs/${camel-extra.tesb.version}</bundle>
    </feature>
    <feature name='camel-wmq' version='${project.version}'>
        <feature prerequisite="true">wrap</feature>
        <feature version='${camel-version}'>camel-core</feature>
        <feature>bouncycastle</feature>
        <bundle dependency='true'>mvn:org.bouncycastle/bcutil-jdk18on/${bouncycastle-version}</bundle>
        <bundle>wrap:mvn:com.ibm.mq/com.ibm.mq.allclient/${com-ibm-mq-version}$Export-Package=com.ibm*;version=${com-ibm-mq-version}&amp;Import-Package=org.*;resolution:=optional,javax.*;resolution:=optional,oracle.*;resolution:=optional,io.*;resolution:=optional&amp;Bundle-Version=${com-ibm-mq-version}</bundle>
        <bundle>mvn:org.apache-extras.camel-extra/camel-wmq/${camel-extra.tesb.version}</bundle>
    </feature>
</features>